"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[528],{6461:function(s,t,e){e.r(t),e.d(t,{ProfileContainer:function(){return U},default:function(){return I}});var n=e(8683),r=e(5671),i=e(3144),o=e(136),a=e(5716),u=e(2791),l="ProfileInfo_descriptionBlock__wI1Fu",p=e(4568),c=e(17),d=e(885),f=e(184),h=function(s){var t=s.status,e=s.updateStatus,n=(0,u.useState)(!1),r=(0,d.Z)(n,2),i=r[0],o=r[1],a=(0,u.useState)(t),l=(0,d.Z)(a,2),p=l[0],c=l[1];(0,u.useEffect)((function(){c(t)}),[t]);return(0,f.jsxs)("div",{children:[!i&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){o(!0)},children:t||"------"})}),i&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},onBlur:function(){o(!1),e(p)},value:p,autoFocus:!0})})]})},j=function(s){return s.profile?(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:l,children:(0,f.jsx)("img",{src:s.profile.photos.large?s.profile.photos.large:c,width:"200",height:"200"})}),(0,f.jsx)(h,{status:s.status,updateStatus:s.updateStatus}),(0,f.jsx)("div",{children:s.profile.aboutMe})]}):(0,f.jsx)(p.Z,{})},x=e(8332),m={postsBlock:"MyPosts_postsBlock__dMcfn",posts:"MyPosts_posts__FQ56d"},v="Post_item__WhrMP",g=function(s){return(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg"}),(0,f.jsx)("p",{children:s.message}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:v,children:"like"}),(0,f.jsx)("span",{className:v,children:s.likesCounter})]})]},s.key)},k=e(6139),P=e(704),y=e(3079),S=e(5965),_=u.memo((function(s){var t=s.postData.map((function(s){return(0,f.jsx)(g,{message:s.message,likesCounter:s.likesCount},s.id)}));return(0,f.jsx)("div",{className:m.content,children:(0,f.jsxs)("div",{className:m.postsBlock,children:[(0,f.jsx)("h2",{children:"My posts"}),(0,f.jsx)(Z,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,f.jsx)("div",{className:m.posts,children:t})]})})})),Z=(0,P.Z)({form:"ProfileAddNewPostForm"})((function(s){var t=(0,u.useMemo)((function(){return(0,y.D)(30)}),[]);return(0,f.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(k.Z,{name:"newPostText",component:S.g,placeholder:"Post message",validate:[y.C,t]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),C=_,w=e(364),N=(0,w.$j)((function(s){return{postData:s.profilePage.postData}}),(function(s){return{addPost:function(t){s((0,x.Wl)(t))}}}))(C),b=function(s){return(0,f.jsxs)("div",{children:[(0,f.jsx)(j,(0,n.Z)((0,n.Z)({},s),{},{profile:s.profile,status:s.status,updateStatus:s.updateStatus})),(0,f.jsx)(N,{})]})},M=e(9271),D=e(7781),U=function(s){(0,o.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshProfile",value:function(){var s=+this.props.match.params.userId;s||(s=this.props.authorisedUserId)?(this.props.getUserProfile(s),this.props.getUserStatus(s)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(){this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(b,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,updateStatus:this.props.updateStatus}))}}]),e}(u.Component),I=(0,D.qC)((0,w.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,isAuth:s.auth.isAuth,authorisedUserId:s.auth.userId}}),{getUserProfile:x.et,getUserStatus:x.Tq,updateStatus:x.Nf}),M.EN)(U)}}]);
//# sourceMappingURL=528.42e6c623.chunk.js.map